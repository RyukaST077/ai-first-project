# Cline の `/smol` コマンド解説

## `/smol` とは？
`/smol`（環境によっては `/compact` と同義・別名として扱われることがあります）は、**今のタスクの会話履歴を要約して短くし、コンテキスト（AIが一度に参照できる情報量）を節約する**ためのコマンドです。

会話が長くなると、
- 重要な情報が埋もれて焦点がズレる
- やり取りが重くなる（レスポンスが遅い・コストが増えやすい）
- モデルの入力上限に近づいて続行が難しくなる

…といったことが起きやすくなります。`/smol` はそれを防ぐ「整理・圧縮」コマンドです。

---

## 何が起きる？（効果）
`/smol` を実行すると、Cline がこれまでの会話を整理して、次のような情報を中心に**短い要約**にまとめます。

- 何をしようとしているか（目的）
- すでに試したこと（調査・実行したコマンド・変更点）
- 分かったこと／決定事項（方針・結論）
- いま残っている課題（未解決点）
- 次にやるべきこと（次の一手）

その結果、**以降のやり取りで参照する情報量が減り**、
- 会話が軽くなる
- タスクを続けやすくなる
- 話が散らかりにくくなる

といったメリットが出ます。

---

## 使い方（手順）
1. Cline のチャット入力欄に **`/smol`** と入力して送信
2. Cline が会話履歴を要約した内容を提示
3. 要約を確認して、必要なら「この情報も残して」などフィードバック
4. 確定すると、**長い履歴が要約に置き換わり**、同じタスクの続きができます

---

## どんな時に使う？（典型パターン）
### 1) デバッグが長引いた時
- エラーの試行錯誤が増えてログや会話が膨らんだ
- どこまで試したかが分かりづらい

→ `/smol` で「試したこと・結果・次の候補」をまとめると、次の検証がスムーズ。

### 2) 調査・設計の議論が長い時
- 仕様検討や方針の比較で会話が長くなった

→ 決定事項だけ残して、実装フェーズに入りやすい。

### 3) 機能をひと区切り実装し終えた時
- 1機能分の会話が膨らんだ

→ 次の機能に移る前に `/smol` で「現状の状態」を圧縮しておく。

### 4) AIが話を見失い始めた時
- 返答が的外れになる
- 重要な前提を忘れる

→ 会話を整理して、焦点を再固定する。

### 5) 入力上限（コンテキスト）に近づいていそうな時
- やり取りが続いて「そろそろ限界かも」と感じた

→ ギリギリまで引っ張らず、早めに `/smol`。

---

## `/smol` を上手に使うコツ（初心者向け）
- **要約に残してほしい情報を先に言う**
  - 例：「これまでの結論・重要なログ・次の手順を残して要約して」
- **消えると困る情報（コマンド結果、エラーメッセージ、重要な設計判断）**は、要約の中に入っているか確認
- 重要ログは別途メモ（READMEやIssue、メモファイル）に残しておくと安全

---

## 注意点
- 要約＝圧縮なので、**細かい会話のニュアンスや長いログが省略される**ことがあります。
- とくに「後で参照したい長文ログ」「決定の根拠」などは、要約に入りきらない場合があるので、必要なら先に別ファイルへ保存しておくのが安心です。

---

## `/smol` と「タスクを切り替える」系の違い（イメージ）
- **`/smol`**：同じタスクのまま、会話履歴を要約して軽くする
- **タスク切り替え**（例：`/newtask` がある環境）：話題や目的を変える／区切って新しいタスクとして始める

「目的は同じで会話だけ整理したい」→ `/smol`  
「目的が変わる・大きくフェーズが変わる」→ タスク切り替え

---

## すぐ使えるテンプレ（コピペ）
**デバッグの区切りで要約したい**
- `/smol`
- 「これまで試したこと・分かったこと・未解決点・次の候補を残して要約して」

**実装フェーズに入る前に整理したい**
- `/smol`
- 「最終決定した方針、触ったファイル、次のTODOだけ残して要約して」
