# 依頼

下記のコマンド入力を受け取ったら、作業管理用のタスクリスト（PR単位）を作成し、指定ファイルに出力してコミットしてください。

---

## 入力形式

このコマンドは `/tasks.md [T-00]` の形式で入力されます。

* `T-00` はタスクIDです。

---

## 目的

* 作業管理用のタスクリストを作成する
* 意味のある最小単位のPR単位に分割する
* 細かくコミットを行い、進捗を管理しやすくする

---

## 参照情報（必須）

* `docs/implements_plan.md`：タスクIDに対応する実装対象・概要の確認
* `docs/` ディレクトリ配下の設計書：実装方針・仕様・I/F・制約の確認

---

## 重要なルール（必須）

### 1) 仕様の補完禁止・不足時の扱い

* **設計書・計画書に書かれていない仕様は推測で補完しない。**
* `docs/implements_plan.md` に **タスクIDが存在しない場合**：

  * **`_tasks/<タスクID>.md` は作成しない**
  * 「見つからない旨」と「追加で必要な情報（質問項目）」を箇条書きで出力して終了する
* `docs/` に必要な設計情報が不足している場合：

  * 不足点は **`TBD`** としてテンプレに記載し、
  * **不足情報を「前提条件」のチェックリストに落とす**（後で埋められる形にする）

### 2) PR分割ルール（最小で意味のある単位）

* **1PR = 1目的**（機能追加/リファクタ/テスト/ドキュメント/インフラを混在させない）
* PR同士に依存関係がある場合は、後続PRの「前提条件」に **`PR-XXX` を明記**
* PRは **`PR-001` から連番**で採番し、**最大 `PR-009`** まで（超える場合は統合して調整）
* 受け入れ基準は **検証可能**（確認手順・観測可能な結果・テスト条件など）な形で書く

### 3) コミット要件

* コミットメッセージ形式：`[<タスクID>][PR-XXX] <要約>`
* `_tasks/<タスクID>.md` の作成・更新は **単独コミット**にする
* 実装コミットは **ビルド/テストが破綻しない単位**で刻む（中間状態で壊れたままにしない）

### 4) 出力仕様（厳守）

* 出力先：`_tasks/<タスクID>.md`（このファイルのみ作成/更新）
* テンプレのセクションは **省略しない**
* 「変更予定ファイル」は **必ずパス**で書く（不明なら `TBD`）
* 「更新日」は **実行当日の日付（YYYYMMDD）** を入れる
* 「バージョン」は `1.0.0` から開始し、追記更新時のみ適切に更新する

---

## 手順

1. `docs/implements_plan.md` からタスクID `T-00` のタスクを確認する

   * 存在しない場合は「重要なルール（必須）」に従い終了する
2. `docs/` 配下の設計書から、実装に必要な仕様・制約・I/F・データ構造・受け入れ条件を抽出する
3. PR分割ルールに従い、タスクを **PR単位**に分割する

   * 依存関係は「前提条件」に `PR-XXX` として明記する
4. 下記テンプレートに沿って、`_tasks/<タスクID>.md` を作成する
5. 日本語メッセージでコミットする（コミット要件に従う）

---

## テンプレート（厳守）

```md
## PR-001: PR単位のタスク名 [ ]
- 目的:
- 前提条件:
  - [ ] ...
  - [ ] ...
- 変更予定ファイル:
  - 新規 `...`
  - 変更 `...`
  - 削除 `...`
  - 生成物（自動生成/ビルド成果物） `...`
- 実行タスク:
  - [ ] ...
  - [ ] ...
- 受け入れ基準:
  - [ ] ...
  - [ ] ...

---

## PR-002: PR単位のタスク名 [ ]
- 目的:
- 前提条件:
  - [ ] ...
  - [ ] ...
- 変更予定ファイル:
  - 新規 `...`
  - 変更 `...`
  - 削除 `...`
  - 生成物（自動生成/ビルド成果物） `...`
- 実行タスク:
  - [ ] ...
  - [ ] ...
- 受け入れ基準:
  - [ ] ...
  - [ ] ...

---

## PR-00...: ... [ ]
- 目的:
- 前提条件:
  - [ ] ...
  - [ ] ...
- 変更予定ファイル:
  - 新規 `...`
  - 変更 `...`
  - 削除 `...`
  - 生成物（自動生成/ビルド成果物） `...`
- 実行タスク:
  - [ ] ...
  - [ ] ...
- 受け入れ基準:
  - [ ] ...
  - [ ] ...

---

更新日: YYYYMMDD
バージョン: 1.0.0
```

---

## 制限

* 設計・計画にない内容を推測で追加しない（不明点は `TBD` + 前提条件チェックリスト化）
* PR分割は最大 `PR-009` まで（超える場合は統合して調整）
* 出力は `_tasks/<タスクID>.md` のみ（他ファイルは作成しない）
* テンプレのセクションは省略しない
