# 機能実装ワークフロー

このワークフローは `/implement.md <機能名>` の形式で呼び出される。
例: `/implement ログイン機能` の場合

- FEATURE=`ログイン機能`

1. 一つ目のトークンを `FEATURE` として扱う。
2. トークンが二つ以上、または0の場合はユーザーに確認を求める。

## ユーザー入力の確認

ユーザーがコマンドの後ろに実装したい機能を指定しなかった場合は、
次の XML タグを使用して確認する:

```xml
<ask_followup_question>
    <question>実装したい機能を一つ指定してください。</question>
</ask_followup_question>
```

## 目的

このプロジェクトに `FEATURE` の実装を行う
ここで実装するのは `FEATURE` のみでほかの機能の実装はスコープ外


## 作業手順
### 1. タスクリストテンプレートに従って `FEATURE` を実装するためのタスクリストを作成し `activeContext.md` を更新。
- タスクリストはPR単位の粒度。
- 可能な限り細かくタスク分割する。
- 既存のタスクリストが存在する場合は内容を確認し、 `FEATURE` に関係のないタスクは削除する。
- 既存のタスクリストも確認をし、再構成する
- タスクリストを作成、更新したらユーザーに**必ず**確認を求める

### 2. 作成されたタスクリストに従い実装を開始
- 作成されたタスクリストPR-001の前提条件から確認
- 前提条件をクリアしたら実装タスクの1から実装
- 前提条件を満たしていない場合はユーザーに確認を求める

### 3. PR単位の受け入れ基準を達成したか確認
- `memory-bank\activeContext.md` の対象PRの受け入れ基準を確認
- 達成していたらチェックをつける
- 達成していない場合は実装を修正して達成するまで手順2~3を繰り返す

### 4. 一つのPRタスクが受け入れ基準まで完了したら日本語のメッセージを作成し、コミットする
- コミットの条件はPR単位のタスクにおいて前提条件、実装タスク、受け入れ基準、すべてのチェックが完了している
- タスクリストの一つのPRが完了したら**必ずコミット**する

## 制約
- このワークフローは単一の機能実装するためのもので複数の機能を同時にタスクリストに含めない
- タスクリストは可能な限り細かく、PR単位の粒度のものとする
- memory-bankはプロジェクト全体の設計であり、今回の `FEATURE` に関係のないものは無視

## テンプレート
```md
### PR-001: PR単位のタスク名
- 目的: 
- 前提条件:
    - [ ] ...
    - [ ] ...
- 変更予定ファイル:
    - 新規 `...`
    - 変更 `...`
    - 新規 (出力)`...`
- 実行タスク:
    1. [ ] ...
    2. [ ] ...
    3. [ ] ...
    4. [ ] ...
    5. [ ] ...
    6. [ ] ...
    7. [ ] ...
    8. [ ] ...
    9. [ ] ...
    nn. [ ] ...
    nn. [ ] ...
    ...
- 受け入れ基準:
    - [ ] ...が完了している(例)
    - [ ] ...のテストがグリーン(例)
    - [ ] ...のファイルが作成済み(例)

---

### PR-002: PR単位のタスク名
- 目的: 
- 前提条件:
    - [ ] ...
    - [ ] ...
- 変更予定ファイル:
    - 新規 `...`
    - 変更 `...`
    - 新規 (出力)`...`
- 実行タスク:
    1. [ ] ...
    2. [ ] ...
    3. [ ] ...
    4. [ ] ...
    5. [ ] ...
    6. [ ] ...
    7. [ ] ...
    8. [ ] ...
    9. [ ] ...
    nn. [ ] ...
    nn. [ ] ...
    ...
- 受け入れ基準:
    - [ ] ...が完了している(例)
    - [ ] ...のテストがグリーン(例)
    - [ ] ...のファイルが作成済み(例)

---

### PR-NNN: PR単位のタスク名
- 目的: 
- 前提条件:
    - [ ] ...
    - [ ] ...
- 変更予定ファイル:
    - 新規 `...`
    - 変更 `...`
    - 新規 (出力)`...`
- 実行タスク:
    1. [ ] ...
    2. [ ] ...
    3. [ ] ...
    4. [ ] ...
    5. [ ] ...
    6. [ ] ...
    7. [ ] ...
    8. [ ] ...
    9. [ ] ...
    nn. [ ] ...
    nn. [ ] ...
    ...
- 受け入れ基準:
    - [ ] ...が完了している(例)
    - [ ] ...のテストがグリーン(例)
    - [ ] ...のファイルが作成済み(例)

---

**必要な数だけPR単位のタスクを作成する**

---

...

---
```