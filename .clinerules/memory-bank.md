
# Memory Bank 運用ルール（Cline Rules）

## 目的
このルールは、Clineが**セッションを跨いでも一貫性のある文脈**で作業できるよう、
`memory-bank/`配下のファイルを**毎タスク開始時に必ず読み込む**ことと、
重要変更時に**ドキュメントを更新する**ことを定義する。

## 読み込みの必須化
- タスク開始時は、以下の順序で**全ファイルを読む**（サマリ化してもよい）：
  1. `projectbrief.md`（土台）  
  2. `productContext.md`  
  3. `systemPatterns.md`  
  4. `techContext.md`
  5. `activeContext.md`（作業中のタスク管理）
  6. `progress.md`（進捗・既知課題）
- 読み込み時に**矛盾や古い情報**を検出したら、ユーザーに確認の上で更新案を提示する。

## 更新トリガー
次の条件を満たす作業後は、Memory Bankを更新する：
- 重要な設計変更、アーキテクチャ選定の更新
- 仕様確定／大きな要件変更
- フローやパターンが変わるリファクタリング
- マイルストーン達成、重大な既知課題の発見

## memory-bank 更新の流れ
1. 差分要約を作成（何が変わり、どのファイルに反映すべきか）
2. `activeContext.md` と `progress.md` を**優先更新**
3. 必要に応じて `systemPatterns.md` / `techContext.md` に蒸留
4. 更新コミット時は要約コメントを残す